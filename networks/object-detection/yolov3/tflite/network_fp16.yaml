framework: tflite
name: YOLO_v3-COCO

tflite_file: $KALRAY_TOOLCHAIN_DIR/share/kann/kann-neural-networks/YOLO_v3-COCO/tflite/model.tflite

input_nodes_name:
    - inputs
input_nodes_shape:
    - [416, 1, 416, 3] # H, B, W, D

output_nodes_name:
    - detector/yolo-v3/Conv_14/BiasAdd
    - detector/yolo-v3/Conv_22/BiasAdd
    - detector/yolo-v3/Conv_6/BiasAdd
output_nodes_shape:
    - [26, 1, 26, 255]
    - [52, 1, 52, 255]
    - [13, 1, 13, 255]

quantize_fp32_to_fp16: True

code_buffer_size: 20000
threshold_image_to_ddr: 5000000
threshold_max_params_size: 400000

extra_data:
    classes: $KALRAY_TOOLCHAIN_DIR/share/kann/kann-neural-networks/YOLO_v3-COCO/tflite/classes.txt
    input_preparators:
      - input_preparator.py
    output_preparator: ./output_preparator/
